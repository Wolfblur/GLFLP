<!DOCTYPE html> 
<html>
<head>
<link rel="stylesheet" type="text/css" href="typewriter.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="mustache.min.js"></script>
</head> 


<body>


<p id="typedtext">Click this</p>
<p id="Choice1">Next Song</p>

<script id="mustache">
var view = {
  gameText: "A red sun hangs low in the sky, echoing of Dying Earth. You are sitting on the Front Porch, wrinkled brain pumping under your wrinkled brow.",
  gameText2: "The wind chimes chortle to themselves in their tinny tamber, and like a crystal, carry you out over the sea to the estuary",
  Choice2: "Another Choice"
};
var template = "{{gameText}}";
var template2 = "{{gameText2}}";
var template3 = "{{Choice2}}"
var option2 = Mustache.render(template2, view);
var Choice2 = Mustache.render(template3, view);
</script>

<script id="typewriter">
var aText = [Mustache.render(template, view)];
var iSpeed =25; // time delay of print out
var iIndex = 0; // start printing array at this posision
var iArrLength = aText[0].length; // the length of the text array
var iScrollAt = 20; // start scrolling up at this many lines
 
var iTextPos = 0; // initialise text position
var sContents = ''; // initialise contents variable
var iRow; // initialise current row

function typewritera()
{
 sContents =  ' ';
 iRow = Math.max(0, iIndex-iScrollAt);
 var destination = document.getElementById("typedtext");
 
 while ( iRow < iIndex ) {
  sContents += aText[iRow++] + '<br />';
 }
 destination.innerHTML = sContents + aText[iIndex].substring(0, iTextPos) + "_";
 if ( iTextPos++ == iArrLength ) {
  iTextPos = 0;
  iIndex++;
  if ( iIndex != aText.length ) {
   iArrLength = aText[iIndex].length;
   setTimeout("typewritera()", 500);
  }
 } else {
  setTimeout("typewritera()", iSpeed);
 }
}

typewritera();
 </script>

 <script>$(function(){
  $("#Choice1").click(function(){
    $('#typedtext').html(option2),
    $("#Choice1").html(Choice2)
  });
});
</script>

</body> 
 </html>
